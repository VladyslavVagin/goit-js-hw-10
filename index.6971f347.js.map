{"mappings":"AAEA,MAAMA,EAAcC,SAASC,cAAc,iBACrCC,EAAUF,SAASC,cAAc,aACjCE,EAAaH,SAASC,cAAc,WACpCG,EAAYJ,SAASC,cAAc,UAEzCG,EAAUC,UAAUC,IAAI,aACxBH,EAAWE,UAAUC,IAAI,aCHdC,MAAM,qHAAoCC,MAAKC,IAClD,IAAKA,EAAEC,GACH,MAAM,IAAIC,MAAMF,EAAEG,QAEtB,OAAOH,EAAEI,MAAM,IDCTL,MAAKM,GAAQA,EAAKC,KAAIC,IAChC,MAAMC,EAAiB,kBAAkBD,EAAIE,OAAOF,EAAIG,gBAExD,OADApB,EAAYqB,mBAAmB,YAAaH,GACrCD,CAAG,MAGdjB,EAAYsB,iBAAiB,UAE7B,SAAqBC,GACjB,MAAMC,EAASD,EAAEE,cAAcC,MAC/BtB,EAAWE,UAAUqB,OAAO,aAC5BxB,EAAQG,UAAUC,IAAI,aACtBP,EAAY4B,aAAa,WAAY,KCTTC,EDUZL,ECTThB,MAAM,sIAAqDqB,KAAWpB,MAAKC,IAC9E,IAAKA,EAAEC,GACH,MAAM,IAAIC,MAAMF,EAAEG,QAEtB,OAAOH,EAAEI,MAAM,KDKKL,MAAKC,IACzBoB,QAAQC,IAAIrB,GACZ,MAAMsB,IAAEA,EAAGC,OAAEA,GAAWvB,EAAE,GAC1BP,EAAQ+B,UAAY,aAAaF,WAAaC,EAAO,GAAGb,qDACjCa,EAAO,GAAGb,eAAea,EAAO,GAAGE,oDAChCF,EAAO,GAAGG,uBAAuB,IAC5DC,OAAM,KACLjC,EAAWE,UAAUC,IAAI,aACzBF,EAAUC,UAAUqB,OAAO,YAAY,IACxCW,QAAQC,YAAW,KAClBlC,EAAUC,UAAUC,IAAI,aACxBH,EAAWE,UAAUC,IAAI,aACzBJ,EAAQG,UAAUqB,OAAO,aACzB3B,EAAYwC,gBAAgB,WAAW,GACxC,MCxBA,IAAyBX,C","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\nimport './style.css';\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loaderText = document.querySelector('.loader');\nconst errorText = document.querySelector('.error');\n\nerrorText.classList.add('is-hidden');\nloaderText.classList.add('is-hidden');\n\nfetchBreeds().then(cats => cats.map(cat => {\n    const catsNameMarkup = `<option value=\"${cat.id}\">${cat.name}</option>`;\n    breedSelect.insertAdjacentHTML('beforeend', catsNameMarkup);\n    return cat;\n}));\n\nbreedSelect.addEventListener('change', onChangeCat);\n\nfunction onChangeCat(e) {\n    const beerId = e.currentTarget.value;\n    loaderText.classList.remove('is-hidden');\n    catInfo.classList.add('is-hidden');\n    breedSelect.setAttribute('disabled', '');\n    fetchCatByBreed(beerId).then(r => {\n        console.log(r);\n        const { url, breeds } = r[0];\n        catInfo.innerHTML = `<img src=\"${url}\" alt=\"${breeds[0].name}\" width=\"450\"/>\n        <div class=\"box\"><h1>${breeds[0].name}</h1><p>${breeds[0].description}</p>\n        <p><h2>Temperament:</h2>${breeds[0].temperament}</p></div>`;\n    }).catch(() => {\n        loaderText.classList.add('is-hidden');\n        errorText.classList.remove('is-hidden');\n    }).finally(setTimeout(() => {\n        errorText.classList.add('is-hidden');\n        loaderText.classList.add('is-hidden');\n        catInfo.classList.remove('is-hidden');\n        breedSelect.removeAttribute('disabled');\n    }, 3000));\n};\n\n","const URL = 'https://api.thecatapi.com/v1';\nconst API_KEY =\n    'live_p82CwYxZqFtNGXfSFI7XrThXKQVhxh8542BDEdjKLOjNWDrliMHADRW4withtGSN';\n\nexport function fetchBreeds() {\n    return fetch(`${URL}/breeds?api_key=${API_KEY}`).then(r => {\n        if (!r.ok) {\n            throw new Error(r.status);\n        }\n        return r.json();\n    })\n};\n\nexport function fetchCatByBreed(breedId) {\n    return fetch(`${URL}/images/search?api_key=${API_KEY}&breed_ids=${breedId}`).then(r => {\n        if (!r.ok) {\n            throw new Error(r.status);\n        }\n        return r.json();\n    }\n    )\n};"],"names":["$1f0dc3b9307be026$var$breedSelect","document","querySelector","$1f0dc3b9307be026$var$catInfo","$1f0dc3b9307be026$var$loaderText","$1f0dc3b9307be026$var$errorText","classList","add","fetch","then","r","ok","Error","status","json","cats","map","cat","catsNameMarkup","id","name","insertAdjacentHTML","addEventListener","e","beerId","currentTarget","value","remove","setAttribute","breedId","console","log","url","breeds","innerHTML","description","temperament","catch","finally","setTimeout","removeAttribute"],"version":3,"file":"index.6971f347.js.map"}